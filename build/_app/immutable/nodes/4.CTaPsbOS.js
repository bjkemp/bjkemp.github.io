import{t as h,a as m,c as Me}from"../chunks/CEv3kE5K.js";import{O as Pe,p as Oe,a4 as M,a5 as Z,o as Re,f as Q,a as we,$ as Ce,s as l,g as s,c as t,r as a,d as i,t as H,n as J}from"../chunks/CM1GH9x5.js";import{s as y,e as _}from"../chunks/i9wswfLs.js";import{i as C}from"../chunks/UO0rt30h.js";import{e as ie,i as le}from"../chunks/D_4WlVT5.js";import{h as Te}from"../chunks/qWIK-dvo.js";import{s as $e}from"../chunks/C0Ux19ra.js";function ve(P){return function(...S){var b=S[0];return b.stopPropagation(),P==null?void 0:P.apply(this,S)}}function re(P,S){var O;var b=(O=P.$$events)==null?void 0:O[S.type],T=Pe(b)?b.slice():b==null?[]:[b];for(var u of T)u.call(this,S)}var Ae=h(`<meta name="description" content="A digital preservation of Jeff's high school floppy disk archives from the 1990s" class="svelte-o7jskk">`),Le=h('<div class="boot-messages svelte-o7jskk"><div class="boot-line svelte-o7jskk">SYSTEM BOOT v2.1</div> <div class="boot-line svelte-o7jskk">Initializing floppy drives...</div> <div class="boot-line svelte-o7jskk">Drive A: OK [1.44 MB]</div> <div class="boot-line svelte-o7jskk">Drive B: OK [1.44 MB]</div> <div class="boot-line svelte-o7jskk">Loading file allocation table...</div> <div class="boot-line svelte-o7jskk">Scanning for Pascal executables...</div> <div class="boot-line svelte-o7jskk">Ready to explore archives...</div> <div class="boot-line blinking svelte-o7jskk">Press any key to continue_</div></div>'),Je=h(`<div class="boot-screen svelte-o7jskk"><div class="crt-monitor svelte-o7jskk"><div class="scanlines svelte-o7jskk"></div> <div class="boot-content svelte-o7jskk"><pre class="ascii-title svelte-o7jskk">╔══════════════════════════════════════╗
║     JEFF'S FLOPPY DISK ARCHIVES      ║
║        Digital Preservation          ║
║           Est. 1987-1998             ║
╚══════════════════════════════════════╝
					</pre> <!></div></div></div>`),Be=h('<span class="breadcrumb-part svelte-o7jskk"> </span>'),Ie=h('<div class="file-entry directory svelte-o7jskk"><span class="filename svelte-o7jskk">📁 ..</span> <span class="filesize svelte-o7jskk">&lt;UP&gt;</span> <span class="filetype svelte-o7jskk">FOLDER</span> <span class="filedate svelte-o7jskk">--</span></div>'),ze=h('<div><span class="filename svelte-o7jskk"> </span> <span class="filesize svelte-o7jskk"> </span> <span class="filetype svelte-o7jskk"> </span> <span class="filedate svelte-o7jskk">06-15-95</span></div>'),Ke=h('<div class="file-entry svelte-o7jskk"><span class="filename svelte-o7jskk">Loading...</span> <span class="filesize svelte-o7jskk">--</span> <span class="filetype svelte-o7jskk">--</span> <span class="filedate svelte-o7jskk">--</span></div>'),Ue=h(`<div class="dos-interface svelte-o7jskk"><div class="crt-monitor active svelte-o7jskk"><div class="scanlines svelte-o7jskk"></div> <div class="dos-header svelte-o7jskk"><pre class="svelte-o7jskk"> </pre></div> <div class="file-browser svelte-o7jskk"><div class="browser-header svelte-o7jskk"><span class="path svelte-o7jskk">C:\\JEFF\\ <!></span> <span class="date svelte-o7jskk">12-15-1995  15:42</span></div> <div class="file-listing svelte-o7jskk"><div class="file-header svelte-o7jskk"><span class="filename svelte-o7jskk">Filename</span> <span class="filesize svelte-o7jskk">Size</span> <span class="filetype svelte-o7jskk">Type</span> <span class="filedate svelte-o7jskk">Date</span></div> <!> <!></div></div> <div class="command-line svelte-o7jskk"><span class="prompt svelte-o7jskk">C:\\JEFF\\ARCHIVES&gt;</span> <span class="cursor blinking svelte-o7jskk">_</span></div> <div class="status-bar svelte-o7jskk"><span class="svelte-o7jskk">F1-Help  F2-View  F3-Exit  F5-Refresh</span> <span class="right svelte-o7jskk">Free: 1,337 KB</span></div></div></div> <div class="info-panel svelte-o7jskk"><div class="panel-header svelte-o7jskk">SYSTEM INFO</div> <div class="system-stats svelte-o7jskk"><div class="svelte-o7jskk">CPU: 486DX2-66</div> <div class="svelte-o7jskk">RAM: 8 MB</div> <div class="svelte-o7jskk">VGA: 256 colors</div> <div class="svelte-o7jskk">Sound: SB16</div></div> <div class="panel-header svelte-o7jskk">ABOUT</div> <div class="about-text svelte-o7jskk">This archive contains recovered files from Jeff's high school floppy disks (1987-1998). 
				Featuring Pascal programs, games, and digital artifacts from the golden age of personal computing.</div></div>`,1),Ve=h('<button class="dos-button svelte-o7jskk">Run in Emulator</button>'),He=h('<div class="modal-overlay svelte-o7jskk"><div class="file-viewer-modal svelte-o7jskk"><div class="modal-header svelte-o7jskk"><span class="modal-title svelte-o7jskk"> </span> <button class="close-btn svelte-o7jskk">✕</button></div> <div class="modal-content svelte-o7jskk"><div class="file-info svelte-o7jskk"><div class="svelte-o7jskk"> </div> <div class="svelte-o7jskk"> </div> <div class="svelte-o7jskk">Modified: 06-15-1995</div></div> <div class="file-content svelte-o7jskk"><pre class="code-display svelte-o7jskk"> </pre></div></div> <div class="modal-footer svelte-o7jskk"><button class="dos-button svelte-o7jskk">Close</button> <!></div></div></div>'),We=h('<div class="modal-overlay svelte-o7jskk"><div class="emulator-modal svelte-o7jskk"><div class="modal-header svelte-o7jskk"><span class="modal-title svelte-o7jskk"> </span> <button class="close-btn svelte-o7jskk">✕</button></div> <div class="emulator-screen svelte-o7jskk"><div id="js-dos-container" class="svelte-o7jskk"><div class="emulator-placeholder svelte-o7jskk"><div class="emulator-boot svelte-o7jskk"><pre class="svelte-o7jskk"> </pre></div></div></div></div> <div class="modal-footer svelte-o7jskk"><button class="dos-button svelte-o7jskk">Exit Emulator</button> <button class="dos-button svelte-o7jskk">Fullscreen</button> <button class="dos-button svelte-o7jskk">Reset</button></div></div></div>'),Xe=h('<div class="retro-container svelte-o7jskk"><!></div> <!> <!>',1);function ss(P,S){Oe(S,!0);let b=M(!1),T=M(!1),u=M(Z([])),O=M(Z({})),Y=M(Z({})),d=M(null),B=M(!1),I=M(!1);Re(()=>(setTimeout(()=>l(b,!0),500),setTimeout(()=>l(T,!0),3e3),ne(),document.addEventListener("click",W),document.addEventListener("keydown",W),()=>{document.removeEventListener("click",W),document.removeEventListener("keydown",W)}));function W(){s(T)||(l(T,!0),l(b,!0))}async function ne(){try{const e=await fetch("/floppy-archives/data/file_system.json");l(O,await e.json(),!0),z()}catch(e){console.error("Error loading file system:",e),l(O,ce(),!0),z()}}function ce(){return{name:"Root",type:"directory",children:[{name:"Jeff_s Floppy Recovery",type:"directory",children:[{name:"disk1",type:"directory",children:[{name:"MAZEDEMO.EXE",type:"file",size:6528},{name:"RPSGAME.EXE",type:"file",size:9552},{name:"SCORE.PAS",type:"file",size:8523}]}]}]}}function z(){var o;let e=s(O);for(const r of s(u))if(e=(o=e.children)==null?void 0:o.find(n=>n.name===r),!e)break;l(Y,e||s(O),!0)}function de(e){l(u,[...s(u),e],!0),z()}function ke(){s(u).length>0&&(l(u,s(u).slice(0,-1),!0),z())}function pe(e){l(u,s(u).slice(0,e+1),!0),z()}function ue(e){if(e.type==="directory")de(e.name);else{l(d,e,!0);const o=K(e.name);["exe","com"].includes(o)?se(e):l(B,!0)}}function K(e){return e.slice((e.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function fe(e){if(e.type==="directory")return"📁";const o=K(e.name);return{pas:"📄",tpu:"📄",exe:"⚙️",com:"⚙️",txt:"📝",asc:"📝",dat:"💾",bak:"💿"}[o]||"📄"}function ee(e){return e?e<1024?`${e}`:e<1024*1024?`${Math.round(e/1024)}K`:`${Math.round(e/(1024*1024))}M`:""}function se(e){l(d,e,!0),l(I,!0),console.log(`Running ${e.name} in emulator...`)}var te=Xe();Te(e=>{var o=Ae();Ce.title="Jeff's Floppy Archives | Benjamin Kemp",m(e,o)});var G=Q(te),me=t(G);{var je=e=>{var o=Je(),r=t(o),n=i(t(r),2),f=i(t(n),2);{var x=E=>{var j=Le();m(E,j)};C(f,E=>{s(b)&&E(x)})}a(n),a(r),a(o),m(e,o)},_e=e=>{var o=Ue(),r=Q(o),n=t(r),f=i(t(n),2),x=t(f),E=t(x);a(x),a(f);var j=i(f,2),g=t(j),F=t(g),$=i(t(F));ie($,17,()=>s(u),le,(v,k,V)=>{var p=Be(),c=t(p);a(p),H(()=>y(c,`${s(k)??""}\\`)),_("click",p,()=>pe(V)),m(v,p)}),a(F),J(2),a(g);var D=i(g,2),A=i(t(D),2);{var R=v=>{var k=Ie();_("click",k,ke),m(v,k)};C(A,v=>{s(u).length>0&&v(R)})}var L=i(A,2);{var U=v=>{var k=Me(),V=Q(k);ie(V,17,()=>s(Y).children,le,(p,c)=>{var w=ze(),q=t(w),ge=t(q);a(q);var N=i(q,2),Se=t(N,!0);a(N);var oe=i(N,2),Ee=t(oe,!0);a(oe),J(2),a(w),H((Fe,xe,De)=>{$e(w,1,`file-entry ${s(c).type??""}`,"svelte-o7jskk"),y(ge,`${Fe??""} ${s(c).name??""}`),y(Se,xe),y(Ee,De)},[()=>fe(s(c)),()=>s(c).type==="directory"?"<DIR>":ee(s(c).size),()=>s(c).type==="directory"?"FOLDER":K(s(c).name).toUpperCase()]),_("click",w,()=>ue(s(c))),m(p,w)}),m(v,k)},X=v=>{var k=Ke();m(v,k)};C(L,v=>{var k;(k=s(Y))!=null&&k.children?v(U):v(X,!1)})}a(D),a(j),J(4),a(n),a(r),J(2),H(v=>y(E,`MS-DOS Executive File Manager v1.0
Directory: C:\\JEFF\\${v??""}
					`),[()=>s(u).join("\\")]),m(e,o)};C(me,e=>{s(T)?e(_e,!1):e(je)})}a(G);var ae=i(G,2);{var he=e=>{var o=He(),r=t(o),n=t(r),f=t(n),x=t(f);a(f);var E=i(f,2);a(n);var j=i(n,2),g=t(j),F=t(g),$=t(F);a(F);var D=i(F,2),A=t(D);a(D),J(2),a(g);var R=i(g,2),L=t(R),U=t(L);a(L),a(R),a(j);var X=i(j,2),v=t(X),k=i(v,2);{var V=p=>{var c=Ve();_("click",c,()=>se(s(d))),m(p,c)};C(k,p=>{["pas","exe","com"].includes(K(s(d).name))&&p(V)})}a(X),a(r),a(o),H((p,c,w)=>{y(x,`📄 ${s(d).name??""}`),y($,`Size: ${p??""} bytes`),y(A,`Type: ${c??""}`),y(U,`${w??""}
					`)},[()=>ee(s(d).size),()=>K(s(d).name).toUpperCase(),()=>`; ${s(d).name} - Jeff's Pascal Program
; Recovered from floppy disk archive

program ${s(d).name.replace(/\.[^/.]+$/,"")};
uses
  CRT, DOS;

var
  choice: char;

begin
  ClrScr;
  WriteLn('Welcome to Jeff''s Program!');
  WriteLn('Press any key to continue...');
  ReadKey;
  
  { This is a placeholder showing what the code might look like }
  { The actual source would be loaded from the archive }
  
end.`]),_("click",E,()=>l(B,!1)),_("click",v,()=>l(B,!1)),_("click",r,ve(function(p){re.call(this,S,p)})),_("click",o,()=>l(B,!1)),m(e,o)};C(ae,e=>{s(B)&&s(d)&&e(he)})}var ye=i(ae,2);{var be=e=>{var o=We(),r=t(o),n=t(r),f=t(n),x=t(f);a(f);var E=i(f,2);a(n);var j=i(n,2),g=t(j),F=t(g),$=t(F),D=t($),A=t(D);a(D),a($),a(F),a(g),a(j);var R=i(j,2),L=t(R);J(4),a(R),a(r),a(o),H(()=>{y(x,`🎮 DOS Emulator - ${s(d).name??""}`),y(A,`Starting MS-DOS...
Loading ${s(d).name??""}...

JS-DOS Emulator Integration Coming Soon!

For now, imagine ${s(d).name??""} running here with:
- Full screen DOS environment  
- Authentic sound effects
- Keyboard/mouse input
- Save state functionality

This would use js-dos library to run the actual
Pascal executables from Jeff's floppy archives.
							`)}),_("click",E,()=>l(I,!1)),_("click",L,()=>l(I,!1)),_("click",r,ve(function(U){re.call(this,S,U)})),_("click",o,()=>l(I,!1)),m(e,o)};C(ye,e=>{s(I)&&s(d)&&e(be)})}m(P,te),we()}export{ss as component};
